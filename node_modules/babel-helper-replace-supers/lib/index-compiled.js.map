{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["/* eslint max-len: 0 */\n\n\"use strict\";\n\nvar _classCallCheck = require(\"babel-runtime/helpers/class-call-check\")[\"default\"];\n\nvar _Symbol = require(\"babel-runtime/core-js/symbol\")[\"default\"];\n\nvar _interopRequireDefault = require(\"babel-runtime/helpers/interop-require-default\")[\"default\"];\n\nvar _interopRequireWildcard = require(\"babel-runtime/helpers/interop-require-wildcard\")[\"default\"];\n\nexports.__esModule = true;\n\nvar _babelHelperOptimiseCallExpression = require(\"babel-helper-optimise-call-expression\");\n\nvar _babelHelperOptimiseCallExpression2 = _interopRequireDefault(_babelHelperOptimiseCallExpression);\n\nvar _babelMessages = require(\"babel-messages\");\n\nvar messages = _interopRequireWildcard(_babelMessages);\n\nvar _babelTypes = require(\"babel-types\");\n\nvar t = _interopRequireWildcard(_babelTypes);\n\n// ✌️\nvar HARDCORE_THIS_REF = _Symbol();\n\nfunction isIllegalBareSuper(node, parent) {\n  if (!t.isSuper(node)) return false;\n  if (t.isMemberExpression(parent, { computed: false })) return false;\n  if (t.isCallExpression(parent, { callee: node })) return false;\n  return true;\n}\n\nfunction isMemberExpressionSuper(node) {\n  return t.isMemberExpression(node) && t.isSuper(node.object);\n}\n\nvar visitor = {\n  Function: function Function(path) {\n    if (!path.inShadow(\"this\")) {\n      path.skip();\n    }\n  },\n\n  ReturnStatement: function ReturnStatement(path, state) {\n    if (!path.inShadow(\"this\")) {\n      state.returns.push(path);\n    }\n  },\n\n  ThisExpression: function ThisExpression(path, state) {\n    if (!path.node[HARDCORE_THIS_REF]) {\n      state.thises.push(path);\n    }\n  },\n\n  enter: function enter(path, state) {\n    var callback = state.specHandle;\n    if (state.isLoose) callback = state.looseHandle;\n\n    var isBareSuper = path.isCallExpression() && path.get(\"callee\").isSuper();\n\n    var result = callback.call(state, path);\n\n    if (result) {\n      state.hasSuper = true;\n    }\n\n    if (isBareSuper) {\n      state.bareSupers.push(path);\n    }\n\n    if (result === true) {\n      path.requeue();\n    }\n\n    if (result !== true && result) {\n      if (Array.isArray(result)) {\n        path.replaceWithMultiple(result);\n      } else {\n        path.replaceWith(result);\n      }\n    }\n  }\n};\n\nvar ReplaceSupers = (function () {\n  function ReplaceSupers(opts) {\n    var inClass = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n\n    _classCallCheck(this, ReplaceSupers);\n\n    this.forceSuperMemoisation = opts.forceSuperMemoisation;\n    this.methodPath = opts.methodPath;\n    this.methodNode = opts.methodNode;\n    this.superRef = opts.superRef;\n    this.isStatic = opts.isStatic;\n    this.hasSuper = false;\n    this.inClass = inClass;\n    this.isLoose = opts.isLoose;\n    this.scope = this.methodPath.scope;\n    this.file = opts.file;\n    this.opts = opts;\n\n    this.bareSupers = [];\n    this.returns = [];\n    this.thises = [];\n  }\n\n  ReplaceSupers.prototype.getObjectRef = function getObjectRef() {\n    return this.opts.objectRef || this.opts.getObjectRef();\n  };\n\n  /**\n   * Sets a super class value of the named property.\n   *\n   * @example\n   *\n   *   _set(Object.getPrototypeOf(CLASS.prototype), \"METHOD\", \"VALUE\", this)\n   *\n   */\n\n  ReplaceSupers.prototype.setSuperProperty = function setSuperProperty(property, value, isComputed) {\n    return t.callExpression(this.file.addHelper(\"set\"), [t.callExpression(t.memberExpression(t.identifier(\"Object\"), t.identifier(\"getPrototypeOf\")), [this.isStatic ? this.getObjectRef() : t.memberExpression(this.getObjectRef(), t.identifier(\"prototype\"))]), isComputed ? property : t.stringLiteral(property.name), value, t.thisExpression()]);\n  };\n\n  /**\n   * Gets a node representing the super class value of the named property.\n   *\n   * @example\n   *\n   *   _get(Object.getPrototypeOf(CLASS.prototype), \"METHOD\", this)\n   *\n   */\n\n  ReplaceSupers.prototype.getSuperProperty = function getSuperProperty(property, isComputed) {\n    return t.callExpression(this.file.addHelper(\"get\"), [t.callExpression(t.memberExpression(t.identifier(\"Object\"), t.identifier(\"getPrototypeOf\")), [this.isStatic ? this.getObjectRef() : t.memberExpression(this.getObjectRef(), t.identifier(\"prototype\"))]), isComputed ? property : t.stringLiteral(property.name), t.thisExpression()]);\n  };\n\n  ReplaceSupers.prototype.replace = function replace() {\n    this.methodPath.traverse(visitor, this);\n  };\n\n  ReplaceSupers.prototype.getLooseSuperProperty = function getLooseSuperProperty(id, parent) {\n    var methodNode = this.methodNode;\n    var superRef = this.superRef || t.identifier(\"Function\");\n\n    if (parent.property === id) {\n      return;\n    } else if (t.isCallExpression(parent, { callee: id })) {\n      return;\n    } else if (t.isMemberExpression(parent) && !methodNode[\"static\"]) {\n      // super.test -> objectRef.prototype.test\n      return t.memberExpression(superRef, t.identifier(\"prototype\"));\n    } else {\n      return superRef;\n    }\n  };\n\n  ReplaceSupers.prototype.looseHandle = function looseHandle(path) {\n    var node = path.node;\n    if (path.isSuper()) {\n      return this.getLooseSuperProperty(node, path.parent);\n    } else if (path.isCallExpression()) {\n      var callee = node.callee;\n      if (!t.isMemberExpression(callee)) return;\n      if (!t.isSuper(callee.object)) return;\n\n      // super.test(); -> objectRef.prototype.MethodName.call(this);\n      t.appendToMemberExpression(callee, t.identifier(\"call\"));\n      node.arguments.unshift(t.thisExpression());\n      return true;\n    }\n  };\n\n  ReplaceSupers.prototype.specHandleAssignmentExpression = function specHandleAssignmentExpression(ref, path, node) {\n    if (node.operator === \"=\") {\n      // super.name = \"val\"; -> _set(Object.getPrototypeOf(objectRef.prototype), \"name\", this);\n      return this.setSuperProperty(node.left.property, node.right, node.left.computed);\n    } else {\n      // super.age += 2; -> let _ref = super.age; super.age = _ref + 2;\n      ref = ref || path.scope.generateUidIdentifier(\"ref\");\n      return [t.variableDeclaration(\"var\", [t.variableDeclarator(ref, node.left)]), t.expressionStatement(t.assignmentExpression(\"=\", node.left, t.binaryExpression(node.operator[0], ref, node.right)))];\n    }\n  };\n\n  ReplaceSupers.prototype.specHandle = function specHandle(path) {\n    var property = undefined;\n    var computed = undefined;\n    var args = undefined;\n    var thisReference = undefined;\n\n    var parent = path.parent;\n    var node = path.node;\n\n    if (isIllegalBareSuper(node, parent)) {\n      throw path.buildCodeFrameError(messages.get(\"classesIllegalBareSuper\"));\n    }\n\n    if (t.isCallExpression(node)) {\n      var callee = node.callee;\n      if (t.isSuper(callee)) {\n        return;\n      } else if (isMemberExpressionSuper(callee)) {\n        // super.test(); -> _get(Object.getPrototypeOf(objectRef.prototype), \"test\", this).call(this);\n        property = callee.property;\n        computed = callee.computed;\n        args = node.arguments;\n      }\n    } else if (t.isMemberExpression(node) && t.isSuper(node.object)) {\n      // super.name; -> _get(Object.getPrototypeOf(objectRef.prototype), \"name\", this);\n      property = node.property;\n      computed = node.computed;\n    } else if (t.isUpdateExpression(node) && isMemberExpressionSuper(node.argument)) {\n      var binary = t.binaryExpression(node.operator[0], node.argument, t.numericLiteral(1));\n      if (node.prefix) {\n        // ++super.foo; -> super.foo += 1;\n        return this.specHandleAssignmentExpression(null, path, binary);\n      } else {\n        // super.foo++; -> let _ref = super.foo; super.foo = _ref + 1;\n        var ref = path.scope.generateUidIdentifier(\"ref\");\n        return this.specHandleAssignmentExpression(ref, path, binary).concat(t.expressionStatement(ref));\n      }\n    } else if (t.isAssignmentExpression(node) && isMemberExpressionSuper(node.left)) {\n      return this.specHandleAssignmentExpression(null, path, node);\n    }\n\n    if (!property) return;\n\n    var superProperty = this.getSuperProperty(property, computed, thisReference);\n\n    if (args) {\n      return this.optimiseCall(superProperty, args);\n    } else {\n      return superProperty;\n    }\n  };\n\n  ReplaceSupers.prototype.optimiseCall = function optimiseCall(callee, args) {\n    var thisNode = t.thisExpression();\n    thisNode[HARDCORE_THIS_REF] = true;\n    return _babelHelperOptimiseCallExpression2[\"default\"](callee, thisNode, args);\n  };\n\n  return ReplaceSupers;\n})();\n\nexports[\"default\"] = ReplaceSupers;\nmodule.exports = exports[\"default\"];"]}