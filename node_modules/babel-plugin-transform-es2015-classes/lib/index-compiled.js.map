{"version":3,"sources":["index.js"],"names":[],"mappings":"AAAA;;AAEA,IAAI,UAAU,QAAQ,8BAAR,EAAwC,SAAxC,CAAV;;AAEJ,IAAI,yBAAyB,QAAQ,+CAAR,EAAyD,SAAzD,CAAzB;;AAEJ,QAAQ,UAAR,GAAqB,IAArB;;AAEA,IAAI,SAAS,QAAQ,SAAR,CAAT;;AAEJ,IAAI,UAAU,uBAAuB,MAAvB,CAAV;;AAEJ,IAAI,WAAW,QAAQ,WAAR,CAAX;;AAEJ,IAAI,YAAY,uBAAuB,QAAvB,CAAZ;;AAEJ,IAAI,2BAA2B,QAAQ,4BAAR,CAA3B;;AAEJ,IAAI,4BAA4B,uBAAuB,wBAAvB,CAA5B;;AAEJ,QAAQ,SAAR,IAAqB,UAAU,IAAV,EAAgB;AACnC,MAAI,IAAI,KAAK,KAAL;;;AAD2B,MAI/B,UAAU,SAAV,CAJ+B;;AAMnC,SAAO;AACL,aAAS;AACP,gCAA0B,SAAS,wBAAT,CAAkC,IAAlC,EAAwC;AAChE,YAAI,CAAC,KAAK,GAAL,CAAS,aAAT,EAAwB,kBAAxB,EAAD,EAA+C,OAAnD;;AAEA,YAAI,OAAO,KAAK,IAAL,CAHqD;;AAKhE,YAAI,MAAM,KAAK,WAAL,CAAiB,EAAjB,IAAuB,KAAK,KAAL,CAAW,qBAAX,CAAiC,OAAjC,CAAvB,CALsD;AAMhE,aAAK,WAAL,CAAiB,EAAjB,GAAsB,GAAtB;;;AANgE,YAShE,CAAK,WAAL,CAAiB,KAAK,WAAL,CAAjB,CATgE;AAUhE,aAAK,WAAL,CAAiB,EAAE,wBAAF,CAA2B,GAA3B,CAAjB,EAVgE;OAAxC;;AAa1B,wBAAkB,SAAS,gBAAT,CAA0B,IAA1B,EAAgC;AAChD,YAAI,OAAO,KAAK,IAAL,CADqC;;AAGhD,YAAI,MAAM,KAAK,EAAL,IAAW,KAAK,KAAL,CAAW,qBAAX,CAAiC,OAAjC,CAAX,CAHsC;;AAKhD,aAAK,WAAL,CAAiB,EAAE,mBAAF,CAAsB,KAAtB,EAA6B,CAAC,EAAE,kBAAF,CAAqB,GAArB,EAA0B,EAAE,YAAF,CAAe,IAAf,CAA1B,CAAD,CAA7B,CAAjB,EALgD;OAAhC;;AAQlB,uBAAiB,SAAS,eAAT,CAAyB,IAAzB,EAA+B,KAA/B,EAAsC;AACrD,YAAI,OAAO,KAAK,IAAL,CAD0C;;AAGrD,YAAI,KAAK,OAAL,CAAJ,EAAmB,OAAnB;;AAEA,YAAI,WAAW,0BAA0B,SAA1B,EAAqC,IAArC,CAAX,CALiD;AAMrD,YAAI,YAAY,aAAa,IAAb,EAAmB,OAAO,KAAK,WAAL,CAAiB,QAAjB,CAAP,CAAnC;;AAEA,aAAK,OAAL,IAAgB,IAAhB,CARqD;;AAUrD,YAAI,cAAc,UAAU,SAAV,CAAd,CAViD;AAWrD,YAAI,MAAM,IAAN,CAAW,KAAX,EAAkB,cAAc,QAAQ,SAAR,CAAd,CAAtB;;AAEA,aAAK,WAAL,CAAiB,IAAI,WAAJ,CAAgB,IAAhB,EAAsB,MAAM,IAAN,CAAtB,CAAkC,GAAlC,EAAjB,EAbqD;OAAtC;KAtBnB;GADF,CANmC;CAAhB;;AAgDrB,OAAO,OAAP,GAAiB,QAAQ,SAAR,CAAjB","file":"index-compiled.js","sourcesContent":["\"use strict\";\n\nvar _Symbol = require(\"babel-runtime/core-js/symbol\")[\"default\"];\n\nvar _interopRequireDefault = require(\"babel-runtime/helpers/interop-require-default\")[\"default\"];\n\nexports.__esModule = true;\n\nvar _loose = require(\"./loose\");\n\nvar _loose2 = _interopRequireDefault(_loose);\n\nvar _vanilla = require(\"./vanilla\");\n\nvar _vanilla2 = _interopRequireDefault(_vanilla);\n\nvar _babelHelperFunctionName = require(\"babel-helper-function-name\");\n\nvar _babelHelperFunctionName2 = _interopRequireDefault(_babelHelperFunctionName);\n\nexports[\"default\"] = function (_ref) {\n  var t = _ref.types;\n\n  // todo: investigate traversal requeueing\n  var VISITED = _Symbol();\n\n  return {\n    visitor: {\n      ExportDefaultDeclaration: function ExportDefaultDeclaration(path) {\n        if (!path.get(\"declaration\").isClassDeclaration()) return;\n\n        var node = path.node;\n\n        var ref = node.declaration.id || path.scope.generateUidIdentifier(\"class\");\n        node.declaration.id = ref;\n\n        // Split the class declaration and the export into two separate statements.\n        path.replaceWith(node.declaration);\n        path.insertAfter(t.exportDefaultDeclaration(ref));\n      },\n\n      ClassDeclaration: function ClassDeclaration(path) {\n        var node = path.node;\n\n        var ref = node.id || path.scope.generateUidIdentifier(\"class\");\n\n        path.replaceWith(t.variableDeclaration(\"let\", [t.variableDeclarator(ref, t.toExpression(node))]));\n      },\n\n      ClassExpression: function ClassExpression(path, state) {\n        var node = path.node;\n\n        if (node[VISITED]) return;\n\n        var inferred = _babelHelperFunctionName2[\"default\"](path);\n        if (inferred && inferred !== node) return path.replaceWith(inferred);\n\n        node[VISITED] = true;\n\n        var Constructor = _vanilla2[\"default\"];\n        if (state.opts.loose) Constructor = _loose2[\"default\"];\n\n        path.replaceWith(new Constructor(path, state.file).run());\n      }\n    }\n  };\n};\n\nmodule.exports = exports[\"default\"];"]}