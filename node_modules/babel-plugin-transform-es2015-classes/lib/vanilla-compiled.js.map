{"version":3,"sources":["vanilla.js"],"names":[],"mappings":"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","file":"vanilla-compiled.js","sourcesContent":["/* eslint max-len: 0 */\n\n\"use strict\";\n\nvar _classCallCheck = require(\"babel-runtime/helpers/class-call-check\")[\"default\"];\n\nvar _getIterator = require(\"babel-runtime/core-js/get-iterator\")[\"default\"];\n\nvar _interopRequireDefault = require(\"babel-runtime/helpers/interop-require-default\")[\"default\"];\n\nvar _interopRequireWildcard = require(\"babel-runtime/helpers/interop-require-wildcard\")[\"default\"];\n\nexports.__esModule = true;\n\nvar _babelTraverse = require(\"babel-traverse\");\n\nvar _babelHelperReplaceSupers = require(\"babel-helper-replace-supers\");\n\nvar _babelHelperReplaceSupers2 = _interopRequireDefault(_babelHelperReplaceSupers);\n\nvar _babelHelperOptimiseCallExpression = require(\"babel-helper-optimise-call-expression\");\n\nvar _babelHelperOptimiseCallExpression2 = _interopRequireDefault(_babelHelperOptimiseCallExpression);\n\nvar _babelHelperDefineMap = require(\"babel-helper-define-map\");\n\nvar defineMap = _interopRequireWildcard(_babelHelperDefineMap);\n\nvar _babelTemplate = require(\"babel-template\");\n\nvar _babelTemplate2 = _interopRequireDefault(_babelTemplate);\n\nvar _babelTypes = require(\"babel-types\");\n\nvar t = _interopRequireWildcard(_babelTypes);\n\nvar buildDerivedConstructor = _babelTemplate2[\"default\"](\"\\n  (function () {\\n    super(...arguments);\\n  })\\n\");\n\nvar noMethodVisitor = {\n  \"FunctionExpression|FunctionDeclaration\": function FunctionExpressionFunctionDeclaration(path) {\n    if (!path.is(\"shadow\")) {\n      path.skip();\n    }\n  },\n\n  Method: function Method(path) {\n    path.skip();\n  }\n};\n\nvar verifyConstructorVisitor = _babelTraverse.visitors.merge([noMethodVisitor, {\n  Super: function Super(path) {\n    if (this.isDerived && !this.hasBareSuper && !path.parentPath.isCallExpression({ callee: path.node })) {\n      throw path.buildCodeFrameError(\"'super.*' is not allowed before super()\");\n    }\n  },\n\n  CallExpression: {\n    exit: function exit(path) {\n      if (path.get(\"callee\").isSuper()) {\n        this.hasBareSuper = true;\n\n        if (!this.isDerived) {\n          throw path.buildCodeFrameError(\"super() is only allowed in a derived constructor\");\n        }\n      }\n    }\n  },\n\n  ThisExpression: function ThisExpression(path) {\n    if (this.isDerived && !this.hasBareSuper) {\n      if (!path.inShadow(\"this\")) {\n        throw path.buildCodeFrameError(\"'this' is not allowed before super()\");\n      }\n    }\n  }\n}]);\n\nvar findThisesVisitor = _babelTraverse.visitors.merge([noMethodVisitor, {\n  ThisExpression: function ThisExpression(path) {\n    this.superThises.push(path);\n  }\n}]);\n\nvar ClassTransformer = (function () {\n  function ClassTransformer(path, file) {\n    _classCallCheck(this, ClassTransformer);\n\n    this.parent = path.parent;\n    this.scope = path.scope;\n    this.node = path.node;\n    this.path = path;\n    this.file = file;\n\n    this.clearDescriptors();\n\n    this.instancePropBody = [];\n    this.instancePropRefs = {};\n    this.staticPropBody = [];\n    this.body = [];\n\n    this.bareSuperAfter = [];\n    this.bareSupers = [];\n\n    this.pushedConstructor = false;\n    this.pushedInherits = false;\n    this.isLoose = false;\n\n    this.superThises = [];\n\n    // class id\n    this.classId = this.node.id;\n\n    // this is the name of the binding that will **always** reference the class we've constructed\n    this.classRef = this.node.id || this.scope.generateUidIdentifier(\"class\");\n\n    this.superName = this.node.superClass || t.identifier(\"Function\");\n    this.isDerived = !!this.node.superClass;\n  }\n\n  ClassTransformer.prototype.run = function run() {\n    // istanbul ignore next\n\n    var _this = this;\n\n    var superName = this.superName;\n    var file = this.file;\n    var body = this.body;\n\n    //\n\n    var constructorBody = this.constructorBody = t.blockStatement([]);\n    this.constructor = this.buildConstructor();\n\n    //\n\n    var closureParams = [];\n    var closureArgs = [];\n\n    //\n    if (this.isDerived) {\n      closureArgs.push(superName);\n\n      superName = this.scope.generateUidIdentifierBasedOnNode(superName);\n      closureParams.push(superName);\n\n      this.superName = superName;\n    }\n\n    //\n    this.buildBody();\n\n    // make sure this class isn't directly called\n    constructorBody.body.unshift(t.expressionStatement(t.callExpression(file.addHelper(\"classCallCheck\"), [t.thisExpression(), this.classRef])));\n\n    body = body.concat(this.staticPropBody.map(function (fn) {\n      return fn(_this.classRef);\n    }));\n\n    if (this.classId) {\n      // named class with only a constructor\n      if (body.length === 1) return t.toExpression(body[0]);\n    }\n\n    //\n    body.push(t.returnStatement(this.classRef));\n\n    var container = t.functionExpression(null, closureParams, t.blockStatement(body));\n    container.shadow = true;\n    return t.callExpression(container, closureArgs);\n  };\n\n  ClassTransformer.prototype.buildConstructor = function buildConstructor() {\n    var func = t.functionDeclaration(this.classRef, [], this.constructorBody);\n    t.inherits(func, this.node);\n    return func;\n  };\n\n  ClassTransformer.prototype.pushToMap = function pushToMap(node, enumerable, kind, scope) {\n    if (kind === undefined) kind = \"value\";\n\n    var mutatorMap = undefined;\n    if (node[\"static\"]) {\n      this.hasStaticDescriptors = true;\n      mutatorMap = this.staticMutatorMap;\n    } else {\n      this.hasInstanceDescriptors = true;\n      mutatorMap = this.instanceMutatorMap;\n    }\n\n    var map = defineMap.push(mutatorMap, node, kind, this.file, scope);\n\n    if (enumerable) {\n      map.enumerable = t.booleanLiteral(true);\n    }\n\n    return map;\n  };\n\n  /**\n   * [Please add a description.]\n   * https://www.youtube.com/watch?v=fWNaR-rxAic\n   */\n\n  ClassTransformer.prototype.constructorMeMaybe = function constructorMeMaybe() {\n    var hasConstructor = false;\n    var paths = this.path.get(\"body.body\");\n    var _arr = paths;\n    for (var _i = 0; _i < _arr.length; _i++) {\n      var path = _arr[_i];\n      hasConstructor = path.equals(\"kind\", \"constructor\");\n      if (hasConstructor) break;\n    }\n    if (hasConstructor) return;\n\n    var params = undefined,\n        body = undefined;\n\n    if (this.isDerived) {\n      var _constructor = buildDerivedConstructor().expression;\n      params = _constructor.params;\n      body = _constructor.body;\n    } else {\n      params = [];\n      body = t.blockStatement([]);\n    }\n\n    this.path.get(\"body\").unshiftContainer(\"body\", t.classMethod(\"constructor\", t.identifier(\"constructor\"), params, body));\n  };\n\n  ClassTransformer.prototype.buildBody = function buildBody() {\n    this.constructorMeMaybe();\n    this.pushBody();\n    this.verifyConstructor();\n\n    if (this.userConstructor) {\n      var constructorBody = this.constructorBody;\n      constructorBody.body = constructorBody.body.concat(this.userConstructor.body.body);\n      t.inherits(this.constructor, this.userConstructor);\n      t.inherits(constructorBody, this.userConstructor.body);\n    }\n\n    this.pushDescriptors();\n  };\n\n  ClassTransformer.prototype.pushBody = function pushBody() {\n    var classBodyPaths = this.path.get(\"body.body\");\n\n    for (var _i2 = 0; _i2 < classBodyPaths.length; _i2++) {\n      var path = classBodyPaths[_i2];\n      var node = path.node;\n\n      if (path.isClassProperty()) {\n        throw path.buildCodeFrameError(\"Missing class properties transform.\");\n      }\n\n      if (node.decorators) {\n        throw path.buildCodeFrameError(\"Method has decorators, put the decorator plugin before the classes one.\");\n      }\n\n      if (t.isClassMethod(node)) {\n        var isConstructor = node.kind === \"constructor\";\n\n        if (isConstructor) {\n          path.traverse(verifyConstructorVisitor, this);\n\n          if (!this.hasBareSuper && this.isDerived) {\n            throw path.buildCodeFrameError(\"missing super() call in constructor\");\n          }\n        }\n\n        var replaceSupers = new _babelHelperReplaceSupers2[\"default\"]({\n          forceSuperMemoisation: isConstructor,\n          methodPath: path,\n          methodNode: node,\n          objectRef: this.classRef,\n          superRef: this.superName,\n          isStatic: node[\"static\"],\n          isLoose: this.isLoose,\n          scope: this.scope,\n          file: this.file\n        }, true);\n\n        replaceSupers.replace();\n\n        if (isConstructor) {\n          this.pushConstructor(replaceSupers, node, path);\n        } else {\n          this.pushMethod(node, path);\n        }\n      }\n    }\n  };\n\n  ClassTransformer.prototype.clearDescriptors = function clearDescriptors() {\n    this.hasInstanceDescriptors = false;\n    this.hasStaticDescriptors = false;\n\n    this.instanceMutatorMap = {};\n    this.staticMutatorMap = {};\n  };\n\n  ClassTransformer.prototype.pushDescriptors = function pushDescriptors() {\n    this.pushInherits();\n\n    var body = this.body;\n\n    var instanceProps = undefined;\n    var staticProps = undefined;\n\n    if (this.hasInstanceDescriptors) {\n      instanceProps = defineMap.toClassObject(this.instanceMutatorMap);\n    }\n\n    if (this.hasStaticDescriptors) {\n      staticProps = defineMap.toClassObject(this.staticMutatorMap);\n    }\n\n    if (instanceProps || staticProps) {\n      if (instanceProps) instanceProps = defineMap.toComputedObjectFromClass(instanceProps);\n      if (staticProps) staticProps = defineMap.toComputedObjectFromClass(staticProps);\n\n      var nullNode = t.nullLiteral();\n\n      // (Constructor, instanceDescriptors, staticDescriptors, instanceInitializers, staticInitializers)\n      var args = [this.classRef, nullNode, nullNode, nullNode, nullNode];\n\n      if (instanceProps) args[1] = instanceProps;\n      if (staticProps) args[2] = staticProps;\n\n      if (this.instanceInitializersId) {\n        args[3] = this.instanceInitializersId;\n        body.unshift(this.buildObjectAssignment(this.instanceInitializersId));\n      }\n\n      if (this.staticInitializersId) {\n        args[4] = this.staticInitializersId;\n        body.unshift(this.buildObjectAssignment(this.staticInitializersId));\n      }\n\n      var lastNonNullIndex = 0;\n      for (var i = 0; i < args.length; i++) {\n        if (args[i] !== nullNode) lastNonNullIndex = i;\n      }\n      args = args.slice(0, lastNonNullIndex + 1);\n\n      body.push(t.expressionStatement(t.callExpression(this.file.addHelper(\"createClass\"), args)));\n    }\n\n    this.clearDescriptors();\n  };\n\n  ClassTransformer.prototype.buildObjectAssignment = function buildObjectAssignment(id) {\n    return t.variableDeclaration(\"var\", [t.variableDeclarator(id, t.objectExpression([]))]);\n  };\n\n  ClassTransformer.prototype.wrapSuperCall = function wrapSuperCall(bareSuper, superRef, thisRef, body) {\n    var bareSuperNode = bareSuper.node;\n\n    if (this.isLoose) {\n      bareSuperNode.arguments.unshift(t.thisExpression());\n      if (bareSuperNode.arguments.length === 2 && t.isSpreadElement(bareSuperNode.arguments[1]) && t.isIdentifier(bareSuperNode.arguments[1].argument, { name: \"arguments\" })) {\n        // special case single arguments spread\n        bareSuperNode.arguments[1] = bareSuperNode.arguments[1].argument;\n        bareSuperNode.callee = t.memberExpression(superRef, t.identifier(\"apply\"));\n      } else {\n        bareSuperNode.callee = t.memberExpression(superRef, t.identifier(\"call\"));\n      }\n    } else {\n      bareSuperNode = _babelHelperOptimiseCallExpression2[\"default\"](t.callExpression(t.memberExpression(t.identifier(\"Object\"), t.identifier(\"getPrototypeOf\")), [this.classRef]), t.thisExpression(), bareSuperNode.arguments);\n    }\n\n    var call = t.callExpression(this.file.addHelper(\"possibleConstructorReturn\"), [t.thisExpression(), bareSuperNode]);\n\n    var bareSuperAfter = this.bareSuperAfter.map(function (fn) {\n      return fn(thisRef);\n    });\n\n    if (bareSuper.parentPath.isExpressionStatement() && bareSuper.parentPath.container === body.node.body && body.node.body.length - 1 === bareSuper.parentPath.key) {\n      // this super call is the last statement in the body so we can just straight up\n      // turn it into a return\n\n      if (this.superThises.length || bareSuperAfter.length) {\n        bareSuper.scope.push({ id: thisRef });\n        call = t.assignmentExpression(\"=\", thisRef, call);\n      }\n\n      if (bareSuperAfter.length) {\n        call = t.toSequenceExpression([call].concat(bareSuperAfter, [thisRef]));\n      }\n\n      bareSuper.parentPath.replaceWith(t.returnStatement(call));\n    } else {\n      bareSuper.replaceWithMultiple([t.variableDeclaration(\"var\", [t.variableDeclarator(thisRef, call)])].concat(bareSuperAfter, [t.expressionStatement(thisRef)]));\n    }\n  };\n\n  ClassTransformer.prototype.verifyConstructor = function verifyConstructor() {\n    // istanbul ignore next\n\n    var _this2 = this;\n\n    if (!this.isDerived) return;\n\n    var path = this.userConstructorPath;\n    var body = path.get(\"body\");\n\n    path.traverse(findThisesVisitor, this);\n\n    var guaranteedSuperBeforeFinish = !!this.bareSupers.length;\n\n    var superRef = this.superName || t.identifier(\"Function\");\n    var thisRef = path.scope.generateUidIdentifier(\"this\");\n\n    for (var _iterator = this.bareSupers, _isArray = Array.isArray(_iterator), _i3 = 0, _iterator = _isArray ? _iterator : _getIterator(_iterator);;) {\n      var _ref;\n\n      if (_isArray) {\n        if (_i3 >= _iterator.length) break;\n        _ref = _iterator[_i3++];\n      } else {\n        _i3 = _iterator.next();\n        if (_i3.done) break;\n        _ref = _i3.value;\n      }\n\n      var bareSuper = _ref;\n\n      this.wrapSuperCall(bareSuper, superRef, thisRef, body);\n\n      if (guaranteedSuperBeforeFinish) {\n        bareSuper.find(function (parentPath) {\n          // hit top so short circuit\n          if (parentPath === path) {\n            return true;\n          }\n\n          if (parentPath.isLoop() || parentPath.isConditional()) {\n            guaranteedSuperBeforeFinish = false;\n            return true;\n          }\n        });\n      }\n    }\n\n    for (var _iterator2 = this.superThises, _isArray2 = Array.isArray(_iterator2), _i4 = 0, _iterator2 = _isArray2 ? _iterator2 : _getIterator(_iterator2);;) {\n      var _ref2;\n\n      if (_isArray2) {\n        if (_i4 >= _iterator2.length) break;\n        _ref2 = _iterator2[_i4++];\n      } else {\n        _i4 = _iterator2.next();\n        if (_i4.done) break;\n        _ref2 = _i4.value;\n      }\n\n      var thisPath = _ref2;\n\n      thisPath.replaceWith(thisRef);\n    }\n\n    var wrapReturn = function wrapReturn(returnArg) {\n      return t.callExpression(_this2.file.addHelper(\"possibleConstructorReturn\"), [thisRef].concat(returnArg || []));\n    };\n\n    // if we have a return as the last node in the body then we've already caught that\n    // return\n    var bodyPaths = body.get(\"body\");\n    if (bodyPaths.length && !bodyPaths.pop().isReturnStatement()) {\n      body.pushContainer(\"body\", t.returnStatement(guaranteedSuperBeforeFinish ? thisRef : wrapReturn()));\n    }\n\n    for (var _iterator3 = this.superReturns, _isArray3 = Array.isArray(_iterator3), _i5 = 0, _iterator3 = _isArray3 ? _iterator3 : _getIterator(_iterator3);;) {\n      var _ref3;\n\n      if (_isArray3) {\n        if (_i5 >= _iterator3.length) break;\n        _ref3 = _iterator3[_i5++];\n      } else {\n        _i5 = _iterator3.next();\n        if (_i5.done) break;\n        _ref3 = _i5.value;\n      }\n\n      var returnPath = _ref3;\n\n      if (returnPath.node.argument) {\n        var ref = returnPath.scope.generateDeclaredUidIdentifier(\"ret\");\n        returnPath.get(\"argument\").replaceWithMultiple([t.assignmentExpression(\"=\", ref, returnPath.node.argument), wrapReturn(ref)]);\n      } else {\n        returnPath.get(\"argument\").replaceWith(wrapReturn());\n      }\n    }\n  };\n\n  /**\n   * Push a method to its respective mutatorMap.\n   */\n\n  ClassTransformer.prototype.pushMethod = function pushMethod(node, path) {\n    var scope = path ? path.scope : this.scope;\n\n    if (node.kind === \"method\") {\n      if (this._processMethod(node, scope)) return;\n    }\n\n    this.pushToMap(node, false, null, scope);\n  };\n\n  ClassTransformer.prototype._processMethod = function _processMethod() {\n    return false;\n  };\n\n  /**\n   * Replace the constructor body of our class.\n   */\n\n  ClassTransformer.prototype.pushConstructor = function pushConstructor(replaceSupers, method, path) {\n    this.bareSupers = replaceSupers.bareSupers;\n    this.superReturns = replaceSupers.returns;\n\n    // https://github.com/babel/babel/issues/1077\n    if (path.scope.hasOwnBinding(this.classRef.name)) {\n      path.scope.rename(this.classRef.name);\n    }\n\n    var construct = this.constructor;\n\n    this.userConstructorPath = path;\n    this.userConstructor = method;\n    this.hasConstructor = true;\n\n    t.inheritsComments(construct, method);\n\n    construct._ignoreUserWhitespace = true;\n    construct.params = method.params;\n\n    t.inherits(construct.body, method.body);\n    construct.body.directives = method.body.directives;\n\n    // push constructor to body\n    this._pushConstructor();\n  };\n\n  ClassTransformer.prototype._pushConstructor = function _pushConstructor() {\n    if (this.pushedConstructor) return;\n    this.pushedConstructor = true;\n\n    // we haven't pushed any descriptors yet\n    if (this.hasInstanceDescriptors || this.hasStaticDescriptors) {\n      this.pushDescriptors();\n    }\n\n    this.body.push(this.constructor);\n\n    this.pushInherits();\n  };\n\n  /**\n   * Push inherits helper to body.\n   */\n\n  ClassTransformer.prototype.pushInherits = function pushInherits() {\n    if (!this.isDerived || this.pushedInherits) return;\n\n    // Unshift to ensure that the constructor inheritance is set up before\n    // any properties can be assigned to the prototype.\n    this.pushedInherits = true;\n    this.body.unshift(t.expressionStatement(t.callExpression(this.file.addHelper(\"inherits\"), [this.classRef, this.superName])));\n  };\n\n  return ClassTransformer;\n})();\n\nexports[\"default\"] = ClassTransformer;\nmodule.exports = exports[\"default\"];"]}